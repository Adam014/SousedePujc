"use client"

import { useState } from "react"
import { Button } from "@/components/ui/button"
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover"
import { Smile } from "lucide-react"

interface EmojiPickerProps {
  onEmojiSelect: (emoji: string) => void
}

const emojiCategories = {
  smileys: [
    "ğŸ˜€",
    "ğŸ˜ƒ",
    "ğŸ˜„",
    "ğŸ˜",
    "ğŸ˜†",
    "ğŸ˜…",
    "ğŸ˜‚",
    "ğŸ¤£",
    "ğŸ˜Š",
    "ğŸ˜‡",
    "ğŸ™‚",
    "ğŸ™ƒ",
    "ğŸ˜‰",
    "ğŸ˜Œ",
    "ğŸ˜",
    "ğŸ¥°",
    "ğŸ˜˜",
    "ğŸ˜—",
    "ğŸ˜™",
    "ğŸ˜š",
    "ğŸ˜‹",
    "ğŸ˜›",
    "ğŸ˜",
    "ğŸ˜œ",
    "ğŸ¤ª",
    "ğŸ¤¨",
    "ğŸ§",
    "ğŸ¤“",
    "ğŸ˜",
    "ğŸ¤©",
    "ğŸ¥³",
  ],
  gestures: [
    "ğŸ‘",
    "ğŸ‘",
    "ğŸ‘Œ",
    "âœŒï¸",
    "ğŸ¤",
    "ğŸ¤Ÿ",
    "ğŸ¤˜",
    "ğŸ¤™",
    "ğŸ‘ˆ",
    "ğŸ‘‰",
    "ğŸ‘†",
    "ğŸ–•",
    "ğŸ‘‡",
    "â˜ï¸",
    "ğŸ‘‹",
    "ğŸ¤š",
    "ğŸ–ï¸",
    "âœ‹",
    "ğŸ––",
    "ğŸ‘",
    "ğŸ™Œ",
    "ğŸ¤²",
    "ğŸ¤",
    "ğŸ™",
  ],
  hearts: [
    "â¤ï¸",
    "ğŸ§¡",
    "ğŸ’›",
    "ğŸ’š",
    "ğŸ’™",
    "ğŸ’œ",
    "ğŸ–¤",
    "ğŸ¤",
    "ğŸ¤",
    "ğŸ’”",
    "â£ï¸",
    "ğŸ’•",
    "ğŸ’",
    "ğŸ’“",
    "ğŸ’—",
    "ğŸ’–",
    "ğŸ’˜",
    "ğŸ’",
    "ğŸ’Ÿ",
  ],
  objects: [
    "ğŸ“±",
    "ğŸ’»",
    "âŒ¨ï¸",
    "ğŸ–¥ï¸",
    "ğŸ–¨ï¸",
    "ğŸ–±ï¸",
    "ğŸ–²ï¸",
    "ğŸ’½",
    "ğŸ’¾",
    "ğŸ’¿",
    "ğŸ“€",
    "ğŸ“¼",
    "ğŸ“·",
    "ğŸ“¸",
    "ğŸ“¹",
    "ğŸ¥",
    "ğŸ“½ï¸",
    "ğŸï¸",
    "ğŸ“",
    "â˜ï¸",
    "ğŸ“Ÿ",
    "ğŸ“ ",
  ],
}

export default function EmojiPicker({ onEmojiSelect }: EmojiPickerProps) {
  const [activeCategory, setActiveCategory] = useState<keyof typeof emojiCategories>("smileys")

  return (
    <Popover>
      <PopoverTrigger asChild>
        <Button variant="ghost" size="sm" className="h-8 w-8 p-0">
          <Smile className="h-4 w-4" />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-80 p-0" align="end">
        <div className="border-b">
          <div className="flex">
            {Object.keys(emojiCategories).map((category) => (
              <Button
                key={category}
                variant={activeCategory === category ? "default" : "ghost"}
                size="sm"
                onClick={() => setActiveCategory(category as keyof typeof emojiCategories)}
                className="flex-1 rounded-none"
              >
                {category === "smileys" && "ğŸ˜Š"}
                {category === "gestures" && "ğŸ‘"}
                {category === "hearts" && "â¤ï¸"}
                {category === "objects" && "ğŸ“±"}
              </Button>
            ))}
          </div>
        </div>
        <div className="p-2 h-48 overflow-y-auto">
          <div className="grid grid-cols-8 gap-1">
            {emojiCategories[activeCategory].map((emoji, index) => (
              <Button
                key={index}
                variant="ghost"
                size="sm"
                onClick={() => onEmojiSelect(emoji)}
                className="h-8 w-8 p-0 text-lg hover:bg-gray-100"
              >
                {emoji}
              </Button>
            ))}
          </div>
        </div>
      </PopoverContent>
    </Popover>
  )
}
